
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name="generator"/>
<title>Validation using Schemas - LinkML Model</title>
<link href="../assets/stylesheets/main.975780f9.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="amber" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#validation-using-schemas">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="LinkML Model" class="md-header__button md-logo" data-md-component="logo" href=".." title="LinkML Model">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            LinkML Model
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Validation using Schemas
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="amber" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="amber" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="teal" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="LinkML Model" class="md-nav__button md-logo" data-md-component="logo" href=".." title="LinkML Model">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    LinkML Model
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../home/">
        About
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Specification
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Specification" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Specification
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/">
        Index
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/00preamble/">
        Preface
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/01introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/02instances/">
        Instances
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/03schemas/">
        Schema Datamodel
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/04derived-schemas/">
        Derived Schemas
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/05validation/">
        Instance Validation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specification/06mapping/">
        Mapping of Instances
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Appendix
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Appendix" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Metamodel Index
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          Profiles
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Profiles" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Profiles
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../MinimalSubset/">
        MinimalSubset
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../BasicSubset/">
        BasicSubset
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../SpecificationSubset/">
        SpecificationSubset
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../RelationalModelProfile/">
        RelationalModelProfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ObjectOrientedProfile/">
        ObjectOrientedProfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OwlProfile/">
        OwlProfile
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#validation-procedure-for-instances">
    Validation procedure for instances
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#validation-of-classdefinitions">
    Validation of ClassDefinitions
  </a>
<nav aria-label="Validation of ClassDefinitions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-assignment-values-must-be-valid">
    Rule: Assignment values must be valid
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-classdefinition-instances-must-instantiate-a-class-in-the-schema">
    Rule: ClassDefinition instances must instantiate a class in the schema
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-identifiers-must-be-unique">
    Rule: identifiers must be unique
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-all-assignments-must-be-to-permitted-slots">
    Rule: All assignments must be to permitted slots
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-all-required-slots-must-be-specified">
    Rule: All required slots must be specified
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-all-recommended-slots-should-be-specified">
    Rule: All recommended slots should be specified
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-assigned-values-must-conform-to-multivalued-cardinality">
    Rule: Assigned values must conform to multivalued cardinality
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-values-should-be-within-stated-bounds">
    Rule: values should be within stated bounds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-values-should-equal-evaluable-expression">
    Rule: values should equal evaluable expression
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-values-should-equal-string_serialization">
    Rule: values should equal string_serialization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-values-should-equal-regular-expression-patterns">
    Rule: values should equal regular expression patterns
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#range-class-instantiation-check">
    Range class instantiation check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#boolean-combinations-of-expressions">
    Boolean combinations of expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#range-expression-checks">
    range expression checks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rule-evaluation">
    Rule evaluation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classification-rule-evaluation">
    Classification Rule evaluation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#type-designator-checks">
    type designator checks
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#validation-of-typedefinitions">
    Validation of TypeDefinitions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#validation-of-enumdefinitions">
    Validation of EnumDefinitions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inference-of-new-values">
    Inference of new values
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="validation-using-schemas">Validation using Schemas</h1>
<p><strong>Validation</strong> is a procedure that takes as input:</p>
<ul>
<li>A LinkML instance  <code>i</code>, where <code>i</code> is to be validated</li>
<li>A LinkML instance <code>root</code>. This MUST contain <code>i</code> and MAY be the same as <code>i</code></li>
<li>A schema <em>m</em></li>
</ul>
<p>The validation procedure will produce output that can be used to determine if the instance is <em>structurally and semantically valid</em> according to the schema.</p>
<p>The formal specification of the validation procedure takes as input a <em>derived</em> schema <em>m<sup>D</sup></em>:</p>
<div class="mermaid">flowchart TD
    M[Asserted Schema] --&gt; Derivation{Derivation Procedure}
    Derivation --&gt;|derives| Mstar[Derived Schema]
    R[Rules] --&gt; Derivation
    I[Instance] --&gt; Validation{Validation Procedure}
    Validation --&gt;|produces| Results[Validation Results]
    Mstar --&gt; Validation
</div>
<p>Actual implementations may choose to perform this composition or work directly on the asserted schema.</p>
<p>The following holds for any validation procedure:</p>
<ul>
<li>The output MUST include a boolean slot indicating whether the input can be demonstrated to be false</li>
<li>The output SHOULD include additional information about the nature of all problems encountered. </li>
<li>The output SHOULD be conformant with the LinkML validation schema.</li>
<li>The output MAY also return cases where <em>recommendations</em> are not adhered to</li>
<li>The output MAY also be combined with parsing to yield the precise location (i.e. line numbers) in the source serialization document where problems are found.</li>
<li>The procedure MAY restrict validation to defined subsets (profiles) of the Metamodel</li>
<li>The procedure  SHOULD return in its payload an indication of which profile and version is used.</li>
</ul>
<h2 id="validation-procedure-for-instances">Validation procedure for instances</h2>
<p>The validation procedure is to first take the metaclass that is instantiated by the type of the instance <code>i</code>,
and apply one of the 4 checks below, with each check performing its own sub-rules. The ClassDefinition check
is <em>recursive</em>, checking each slot-value assignment. This means a check on any instance will always validate the
full instance tree.</p>
<h2 id="validation-of-classdefinitions">Validation of ClassDefinitions</h2>
<p>Given an instance <code>i</code> of a ClassDefinition:</p>
<p><strong>ClassDefinitionName</strong>( <strong>Assignments</strong> )</p>
<p>Where <strong>Assignments</strong> is a collection of length <code>N</code>, with index <code>i..N</code> and members <code>slot_i=value_i</code>,
and <em>ClassDefinitionName</em> is the name of a ClassDefinition in <em>m<sup>D</sup></em>, such that <code>C</code>=m<sup>D</sup><code>.classes[ClassDefinitionName]</code></p>
<h3 id="rule-assignment-values-must-be-valid">Rule: Assignment values must be valid</h3>
<p>for each <code>slot=value</code> assignment in <strong>Assignments</strong>, the validation procedure is performed on <code>value</code>, with
<code>root</code> remaining the same</p>
<h3 id="rule-classdefinition-instances-must-instantiate-a-class-in-the-schema">Rule: ClassDefinition instances must instantiate a class in the schema</h3>
<p><em>ClassDefinitionName</em> MUST be the name of a ClassDefinition in <em>m<sup>D</sup></em></p>
<p><code>C</code> is assigned to be the value of m<sup>D</sup><code>[ClassDefinitionName]</code></p>
<p><strong>Assignments</strong> is assigned to be the value of <code>C.attributes</code> (see the previous section)</p>
<p><code>C</code> SHOULD have all the following properties:</p>
<ul>
<li><code>C.deprecated</code> SHOULD be <strong>None</strong></li>
<li><code>C.abstract</code> SHOULD NOT be <strong>True</strong></li>
<li><code>C.mixin</code> SHOULD NOT be <strong>True</strong></li>
</ul>
<h3 id="rule-identifiers-must-be-unique">Rule: identifiers must be unique</h3>
<p>We define a procedure <strong>IdVal</strong>(<code>i</code>) which yields the value of <code>i.&lt;identifier_slot&gt;</code> where <code>identifier_slot</code>
is the slot n <strong>Assignments</strong> with metaslot assignment <code>identifier</code>=<strong>True</strong></p>
<p>If there is no such slot then <code>**IdVal**(</code>i`) is None and this check is ignored.</p>
<p><code>i</code> is invalid if there exists another instance <code>j</code> such that <code>j</code> is reachable from <code>root</code>,
and <strong>IdVal</strong>(<code>i</code>)=<strong>IdVal</strong>(<code>j</code>) and <code>i</code> and <code>j</code> are distinct.</p>
<h3 id="rule-all-assignments-must-be-to-permitted-slots">Rule: All assignments must be to permitted slots</h3>
<p>For each <code>s=value</code> assignment in &lt;<em>Assignment1</em>&gt;, &lt;<em>Assignment2</em>&gt;, ..., &lt;<em>AssignmentN</em>&gt;:</p>
<ul>
<li><code>s</code> must be in <strong>Assignments</strong></li>
</ul>
<h3 id="rule-all-required-slots-must-be-specified">Rule: All required slots must be specified</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>s.required=True</code>, then <code>i.&lt;s&gt;</code> must be neither <code>None</code> nor the empty collection <code>[]</code></p>
<h3 id="rule-all-recommended-slots-should-be-specified">Rule: All recommended slots should be specified</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>s.recommended=True</code>, then <code>i.&lt;s&gt;</code> should be neither <code>None</code> nor the empty collection <code>[]</code></p>
<p>If this condition is not met, this is considered a warning rather than invalidity</p>
<h3 id="rule-assigned-values-must-conform-to-multivalued-cardinality">Rule: Assigned values must conform to multivalued cardinality</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>,</p>
<ul>
<li>if <code>s.multivalued</code> is True, then <code>i.&lt;s&gt;</code> must be a collection or None</li>
<li>If <code>s.multivalued</code> is False, then <code>i.&lt;s&gt;</code> must not be a collection</li>
</ul>
<h3 id="rule-values-should-be-within-stated-bounds">Rule: values should be within stated bounds</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>,</p>
<ul>
<li>if <code>s.maximum_value</code> is not None, then <code>i.&lt;s&gt;</code> must be a number and must be less that or equal to the maximum value</li>
<li>if <code>s.minimum_value</code> is not None, then <code>i.&lt;s&gt;</code> must be a number and must be greater that or equal to the minimum value</li>
</ul>
<h3 id="rule-values-should-equal-evaluable-expression">Rule: values should equal evaluable expression</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>s.equals_expression</code> is not None, then <code>i.&lt;s&gt;</code> must equal
the value of <code>Eval(s.equals_expression)</code>. See section on expression language
for details of syntax.</p>
<p>Note: this rule can be executed in inference mode</p>
<h3 id="rule-values-should-equal-string_serialization">Rule: values should equal string_serialization</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>s.string_serialization</code> is not None, then <code>i.&lt;s&gt;</code> must equal
the value of <code>Stringify(s.string_serialization)</code>. See section on expression language
for details of syntax.</p>
<h3 id="rule-values-should-equal-regular-expression-patterns">Rule: values should equal regular expression patterns</h3>
<p>Note: this rule can be executed in inference mode</p>
<h3 id="range-class-instantiation-check">Range class instantiation check</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>i.&lt;s&gt;</code> is not None, and <code>s.range</code> is in <code>m*.classes</code>,
then <code>s.range</code> must be in <code>ReflexiveAncestors(Type(i.&lt;s&gt;))</code></p>
<p>Additional checks MAY be performed based on whether <code>s.inlined</code> is True</p>
<ul>
<li>if <code>s.inlined</code>, then <code>i.&lt;s&gt;</code>  SHOULD NOT be a Reference</li>
<li>if <code>s.inlined</code> is False, then EITHER:<ul>
<li><code>i.&lt;s&gt;</code>  SHOULD be a Reference</li>
<li>OR <code>i.&lt;s&gt;</code> instantiates a class <code>R</code> such that R has no slot <code>rs</code> that is declared to be an identifier. i.e. <code>rs.identifier = True</code></li>
</ul>
</li>
</ul>
<h3 id="boolean-combinations-of-expressions">Boolean combinations of expressions</h3>
<p>There are 4 boolean operator metaslots:</p>
<ul>
<li>any_of</li>
<li>exactly_one_of</li>
<li>none_of</li>
<li>all_of</li>
</ul>
<p>These can apply to classes, slots, types, or enums. The range is always a list of operand expressions
of the same type.</p>
<p>In all cases, the semantics are as follows:</p>
<ul>
<li>any_of: true if there exists a member of the operands that evaluates to true</li>
<li>for empty lists this is always false</li>
<li>exactly_one_of: true if there exists a member of the operands that evaluates to true, and all other members evaluate to false</li>
<li>for empty lists this is always false</li>
<li>none_of: true if there does not exist a member of the operands that evaluates to true</li>
<li>for empty lists this is always true</li>
<li>for lists of length 1 this is the same as the logical NOT operator</li>
<li>for lists of length 2 this is the same as the logical XOR operator</li>
<li>all_of: true if there are no members that evaluate to false</li>
<li>for empty lists this is always true</li>
</ul>
<h3 id="range-expression-checks">range expression checks</h3>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>i.&lt;s&gt;</code> is not None, and <code>RE = s.range_expression</code> is not None, then a check
<strong>CE</strong>(<code>x</code>) is performed on <code>i.&lt;s&gt;</code></p>
<h3 id="rule-evaluation">Rule evaluation</h3>
<p>For each rule <code>r</code> in <em>C</em>.rules:</p>
<ul>
<li>if <code>r.preconditions</code> is None or <code>r.preconditions</code> is satisfied, then</li>
<li><code>r.postconditions</code> are applied</li>
</ul>
<h3 id="classification-rule-evaluation">Classification Rule evaluation</h3>
<h3 id="type-designator-checks">type designator checks</h3>
<h2 id="validation-of-typedefinitions">Validation of TypeDefinitions</h2>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>i.&lt;s&gt;</code> is not None, and <code>s.range</code> is in <code>m*.types</code>,
where <code>i.&lt;s&gt; = *T*( **AtomicValue** )</code> must match <code>s.range</code>,</p>
<p>here <code>T.uri</code> is used to determine the type:</p>
<ul>
<li>for xsd floats, doubles, and decimals, AtomicValue must be a decimal- for xsd floats, doubles, and decimals, AtomicValue must be a decimal</li>
<li>for xsd ints, AtomicValue must be an Integer</li>
<li>for xsd dates, datetimes, and times, AtomicValue must be a string conforming to the relevant ISO type</li>
<li>for xsd booleans, AtomicValue must be True or False</li>
</ul>
<h2 id="validation-of-enumdefinitions">Validation of EnumDefinitions</h2>
<p>For each slot <code>s</code> in <strong>Assignments</strong>, if <code>i.&lt;s&gt;</code> is not None, and <code>s.range</code> is in <code>m*.enums</code>,
then <code>i.&lt;s&gt;</code> must be equal to <code>pv.text</code> for some pv in <code>m*.enums[s.range]</code></p>
<h2 id="inference-of-new-values">Inference of new values</h2>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
<script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script><script>mermaid.initialize({});</script></body>
</html>